D :: struct {
    e: f32
    f: f64
}

Foo :: struct {
    a: i32
    b: u64
    c: u8*
    d: D
    g: u8
}

std :: import("std.meda")

fn print_foo(foo: Foo) {
    print("foo = Foo { a: ")
    std.print_num(foo.a)
    print(", b: ")
    std.print_num(foo.b as i32)
    print(", c: \"")
    print(foo.c)
    print("\", d: { e: ")
    std.print_num(foo.d.e as i32)
    print(", f: ")
    std.print_num(foo.d.f as i32)
    print(" } }\n")
}

fn main() {
    internal_struct :: struct {
        foo: Foo
        bar: struct { a: bool, b: u32 }
        baz: i32
    }

    foo := Foo {
        a: 24
        b: 782
        c: "Hello, world!"
        d: D {
            e: 13.5 as f32
            f: 12.2 as f64
        }
        g: 32
    }
    foo.c = std.concat(foo.c, "\n")

    print_foo(foo)

    print_type(internal_struct)
}